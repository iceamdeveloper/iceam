"use strict";var selectProducts=jQuery("select#course-woocommerce-product-options"),modal=jQuery("#user-confirmation-modal"),userConfirmationModal=function(){function o(e){modal.length&&!t&&0<e.attributes["data-total-sales"].value&&(modal.modal({fadeDuration:250,showClose:!1,clickClose:!1,escapeClose:!1,blockerClass:"user-confirmation-modal__overlay"}),l=!0)}function e(e){l=!1,(t=e)&&jQuery('input[name="user_confirmed_modal"]')[0].setAttribute("value",!0),jQuery.modal.close()}var a=[],t=!1,l=!1;selectProducts.on("select2:select",function(e){var t=e.params.data.element.attributes.value.value;a=selectProducts.val().filter(function(e){return e!==t}),o(e.params.data.element)}),selectProducts.on("select2:unselect",function(e){(a=selectProducts.val()?selectProducts.val():[]).push(e.params.data.element.attributes.value.value),o(e.params.data.element)}),selectProducts.on("select2:opening",function(e){l&&e.preventDefault()}),jQuery("#user-confirmation-modal-confirm").on("click",function(){e(!0)}),jQuery("#user-confirmation-modal-cancel").on("click",function(){e(!1),selectProducts.val(a),selectProducts.trigger("change")})};jQuery(document).ready(function(){0<selectProducts.length&&(selectProducts.select2({width:"resolve",multiple:!0,placeholder:sensei_admin_course_metadata.product_options_placeholder}),userConfirmationModal())});