/******/jQuery(document).ready((function(){var e,t,n,s,i=jQuery.noConflict();!function(e){var t=i("#bulk-action-user-ids"),n=i("#bulk-action-selector-top"),s=i(".sensei-course-select"),r=i(".sensei-bulk-action-select"),a=i(".sensei_user_select_id"),c=i("#cb-select-all-1"),l=i(".sensei-students__enrolled-courses-more-link"),o=i("#cb-select-all-2"),d=i("#sensei-bulk-learner-actions-modal-toggle"),u=function(t,n){t.on("click",(function(){e.resetSelectedUserIds(),t.is(":checked")?(n.attr("checked","checked"),a.attr("checked","checked"),a.each((function(t,n){e.updateSelectedUserIdsFromCheckbox(i(n))}))):(a.removeAttr("checked"),n.removeAttr("checked")),h()}))},h=function(){var n=e.validator(),s=n.validateBulkAction(),i=n.validateSelectedUserIds();window.dispatchEvent(new CustomEvent("enableDisableCourseSelectionToggle",{detail:{enable:s.isValid&&i.isValid}})),t.val(JSON.stringify(e.getUserIds()))};s.select2({placeholder:window.sensei_learners_bulk_data.select_course_placeholder,width:"200px"}),r.select2({minimumResultsForSearch:-1,width:"200px"}),a.on("change",(function(t){var n=i(this);t.preventDefault(),t.stopPropagation(),e.updateSelectedUserIdsFromCheckbox(n),h()})),u(c,o),u(o,c),d.attr("disabled",!0),l.on("click",(function(e){e.preventDefault(),e.stopPropagation(),i(e.target).addClass("hidden").prev().removeClass("hidden")})),n.on("change",(function(){e.setAction(n.val().trim()),h()}))}((e=[],t=[],n="",s={isValid:!0,reason:""},{updateSelectedUserIdsFromCheckbox:function(t){var n=parseInt(t.val(),10),s=e.indexOf(n);return t.is(":checked")?s<0&&e.push(n):s>-1&&e.splice(s,1),this},getUserIds:function(){return e},setAction:function(e){return n=e,this},setCourseIds:function(e){var n,s,r;return n=e,s=function(e){return parseInt(e,10)},r=[],i.each(n,(function(e,t){r.push(s(t))})),t=r,this},resetSelectedUserIds:function(){return e=[],this},resetAll:function(){return this.resetSelectedUserIds(),t=[],n="",this},validator:function(){return{validateBulkAction:function(){return""==n||0==n?{isValid:!1,reason:"Select an action"}:s},validateCourseIds:function(){return 0===(e=t,n=function(e){return!isNaN(e)},r=[],i.each(e,(function(e,t){n(t)&&r.push(t)})),r).length?{isValid:!1,reason:"Select a course"}:s;var e,n,r},validateSelectedUserIds:function(){return 0===e.length?{isValid:!1,reason:"Select some learners"}:s},validate:function(){for(var e,t=[this.validateSelectedUserIds,this.validateBulkAction,this.validateCourseIds];t.length>0;)if(!(e=t.shift().call(this)).isValid)return e;return s}}},validate:function(){return this.validator().validate()}}))}));