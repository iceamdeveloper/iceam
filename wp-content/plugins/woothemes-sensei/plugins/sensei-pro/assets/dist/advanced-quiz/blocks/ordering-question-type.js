!function(){var e={4184:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var l=s.apply(null,t);l&&e.push(l)}}else if("object"===o)if(t.toString===Object.prototype.toString)for(var i in t)r.call(t,i)&&t[i]&&e.push(i);else e.push(t.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(n,[]))||(e.exports=t)}()},4794:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var o=typeof t;if("string"===o||"number"===o)e.push(t);else if(Array.isArray(t)){if(t.length){var l=s.apply(null,t);l&&e.push(l)}}else if("object"===o)if(t.toString===Object.prototype.toString)for(var i in t)r.call(t,i)&&t[i]&&e.push(i);else e.push(t.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(t=function(){return s}.apply(n,[]))||(e.exports=t)}()}},n={};function t(r){var s=n[r];if(void 0!==s)return s.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){"use strict";var e=window.wp.i18n,n=window.wp.element,r=t(4184),s=t.n(r);function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(this,arguments)}var i=t(4794),a=t.n(i),c=window.wp.blockEditor,u=window.wp.keycodes,p=(0,n.forwardRef)(((e,t)=>{let{onChange:r,onKeyDown:s,value:o,onEnter:i,onRemove:p,...d}=e;return(0,n.createElement)(c.PlainText,l({ref:t,value:o,onChange:e=>{r(e.replace(/\n/g,""))},onKeyDown:e=>{switch(s&&s(e),e.keyCode){case u.ENTER:e.preventDefault(),i&&i(e);break;case u.BACKSPACE:!p||null!=o&&o.length||(e.preventDefault(),p())}}},d,{className:a()("sensei-lms-single-line-input",d.className)}))})),d=function({icon:e,size:t=24,...r}){return(0,n.cloneElement)(e,{width:t,height:t,...r})},w=window.wp.primitives,f=(0,n.createElement)(w.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},(0,n.createElement)(w.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"})),v=window.wp.components;function h(t){const{moveAnswer:r,hideControls:s,upDisabled:o=!1,downDisabled:l=!1}=t;return s?(0,n.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"}):(0,n.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__control"},(0,n.createElement)(v.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-up-alt2",label:(0,e.__)("Move up","sensei-pro"),onClick:()=>r("up"),disabled:o}),(0,n.createElement)(v.Button,{className:"sensei-lms-question-block__ordering-answer-option__control-move-up",icon:"arrow-down-alt2",label:(0,e.__)("Move down","sensei-pro"),onClick:()=>r("down"),disabled:l}))}var m=t=>{const{attributes:{label:r},setAttributes:s,hasFocus:l,moveAnswer:i,isFirst:a,isLast:c,hasSelected:u,...w}=t,v=(0,n.useRef)(null);return(0,n.useEffect)((()=>{if(l){var e;const n=(null===(e=v.current)||void 0===e?void 0:e.textarea)||v.current;null==n||n.focus()}}),[l,v]),(0,n.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option"},u&&(0,n.createElement)(h,{moveAnswer:i,hideControls:!r,upDisabled:a,downDisabled:c}),!u&&(0,n.createElement)("div",{className:"sensei-lms-question-block__ordering-answer-option__drag-placeholder"},(0,n.createElement)(d,{icon:f,size:18})),(0,n.createElement)(p,o({ref:v,placeholder:(0,e.__)("Add Answer","sensei-pro"),className:"sensei-lms-question-block__ordering-answer-option__input",onChange:e=>s({label:e}),value:r},w)))};const b=[{label:""},{label:""}],g=e=>{var t,r;const{setAttributes:s,hasSelected:o}=e;let{attributes:{answers:l=[]}}=e;0===l.length&&(l=b);const i=!(null!==(t=l[l.length-1])&&void 0!==t&&t.label),a=[...l];o&&!i&&a.push({label:""}),(0,n.useEffect)((()=>{const e=l.filter((e=>e.hasOwnProperty("correct")));null!=e&&e.length&&s({answers:l.map((e=>(delete e.correct,e)))})}),[l]);const[c,u]=(0,n.useState)(null);let p=a.length-1;return null!==(r=a[a.length-1])&&void 0!==r&&r.label||(p=a.length-2),(0,n.createElement)(g.Options,{answers:a},((e,t)=>(0,n.createElement)(m,{hasFocus:t===c,attributes:e,setAttributes:e=>((e,n)=>{{const t=[...l];t[e]={...t[e],...n},s({answers:t})}})(t,e),onEnter:()=>(e=>{const n=[...l];n.splice(e+1,0,{label:""}),s({answers:n}),u(e+1)})(t),onRemove:()=>(e=>{if(1===l.length)return;u(e-1);const n=[...l];n.splice(e,1),s({answers:n})})(t),moveAnswer:e=>((e,n)=>{const t="up"===n?e-1:e+1;if(t<0||t>=l.length)return;const r=[...l],o=r[t];r[t]=r[e],r[e]=o,s({answers:r})})(t,e),isFirst:0===t,isLast:t===p,hasSelected:o})))};g.Options=e=>{let{answers:t,children:r}=e;return(0,n.createElement)("ol",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--ordering"},t.map(((e,t)=>(0,n.createElement)("li",{key:t,className:s()("sensei-lms-question-block__answer--ordering__option",{"is-draft":!e.label})},r(e,t)))))},g.view=e=>{let{attributes:{answers:t=[]}}=e;return(0,n.createElement)(g.Options,{answers:t},(e=>(0,n.createElement)(n.Fragment,null,e.label)))};var _=g,y={title:(0,e.__)("Ordering","sensei-pro"),description:(0,e.__)("Place the answers in the correct order.","sensei-pro"),edit:_,view:_.view},E=window.wp.hooks;const k={ordering:{...y,subtitle:t=>{let{isQuestionSelected:r}=t;return r?(0,n.createElement)("p",{className:"sensei-lms-question-block__subtitle"},(0,e.__)("Answers will be randomly shuffled on the quiz.","sensei-pro")):null},settings:[],feedback:!0,validate:function(){let{answers:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{noAnswers:e.filter((e=>e.label)).length<2}},messages:{noAnswers:(0,e.__)("Add at least two answers","sensei-pro")}}};(0,E.addFilter)("sensei-lms.Question.questionTypes","sensei-pro/ordering-question-type",(function(e){return{...e,...k}}))}()}();